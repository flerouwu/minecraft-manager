<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <link rel="icon" href="%PUBLIC_URL%/favicon.ico" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Minecraft Manager</title>

  <!------------------------>
  <!-- Set the theme values here. -->
  <!-- These should be included in tailwind.config.js under the `daisyui` section. -->
  <script>
    const themes = {
      dark: "forest",
      light: "garden",
    };
  </script>
  <!------------------------>
</head>

<body data-theme-raw="system">
  <noscript>You need to enable JavaScript to run this app.</noscript>
  <div id="root"></div>

  <script>
    // Themeing
    const prefersDarkMode = window.matchMedia("(prefers-color-scheme: dark)");

    const theme = localStorage.getItem("theme")
    if (!theme) localStorage.setItem("theme", "system")
    updateTheme()

    // Handle system theme changes
    prefersDarkMode.onchange = updateTheme

    // Handle events
    document.addEventListener("themeChange", updateTheme)

    // Update body attribute
    function updateTheme() {
      let theme = localStorage.getItem("theme")
      if (theme === "system") theme = prefersDarkMode.matches ? "dark" : "light" // get system theme
      theme = themes[theme]; // get correct daisyui theme
      document.body.setAttribute("data-theme", theme);
    }
  </script>
</body>

</html>